{"version":3,"sources":["driw.config.js","driw.js","actions/index.js","components/Products.js","components/PaginationNav.js","components/ProductPrices.js","components/Calculator.js","pages/Home.js","App.js","reportWebVitals.js","reducers/index.js","reducers/error.js","index.js"],"names":["module","exports","baseURL","driw","axios","create","setError","error","type","Products","useState","products","setProducts","dispatch","useDispatch","useEffect","get","then","res","status","data","errorName","catch","err","response","className","map","p","name","cartonPrice","toFixed","cartonSize","to","id","ChevronLeftIcon","props","fill","viewBox","stroke","fillRule","d","clipRule","ChevronRightIcon","PaginationNav","page","onPageChange","pageCount","onClick","Array","keys","i","ProductPrices","useParams","setPage","productPrices","setProductPrices","getProducts","newpage","qs","stringify","size","price","quantity","product","amount","Calculator","selectedProduct","setSelectedProduct","cartons","setCartons","units","setUnits","setPrice","dataObj","forEach","hasProductSelected","htmlFor","onChange","e","target","value","Object","values","xmlns","disabled","currentCartonsMax","Math","ceil","c","max","min","onBlur","u","Home","pathname","useLocation","useSelector","state","setTimeout","replace","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","action","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45417617.chunk.js","sourcesContent":["module.exports = {\n  baseURL: \"http://localhost:8080/api\",\n};\n","import axios from \"axios\";\nimport { baseURL } from \"./driw.config\";\n\nconst driw = axios.create({ baseURL });\n\nexport default driw;\n","export const setError = (error) => ({\n  type: \"SET_ERROR\",\n  error,\n});\n","import { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport driw from \"../driw\";\nimport { useDispatch } from \"react-redux\";\nimport { setError } from \"../actions\";\n\nexport default function Products() {\n  const [products, setProducts] = useState([]);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    driw\n      .get(\"/products\")\n      .then((res) => {\n        if (res.status !== 200) {\n          dispatch(setError(res.data.errorName));\n        }\n        return res.data;\n      })\n      .then((data) => {\n        setProducts(data);\n      })\n      .catch((err) => {\n        if (!err.response) {\n          dispatch(setError(\"Network error\"));\n        } else {\n          dispatch(setError(err.response.data.errorName));\n        }\n      });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"mt-12\">\n      <div className=\"rounded-lg shadow overflow-hidden max-w-2xl mx-auto\">\n        <div className=\"border-b\">\n          <table className=\"w-full bg-white\">\n            <thead className=\"text-left uppercase text-xs bg-gray-200 text-gray-600 tracking-wider\">\n              <tr>\n                <th className=\"px-6 py-2\">Name</th>\n                <th className=\"px-6 py-2 text-right\">Carton Price</th>\n                <th className=\"px-6 py-2 text-right\">Carton Size</th>\n                <th className=\"px-6 py-2\"></th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {products.map((p) => (\n                <tr key={p.id} className=\"border-b\">\n                  <td className=\"px-6 py-2 text-gray-800 text-sm font-medium\">\n                    {p.name}\n                  </td>\n                  <td className=\"px-6 py-2 text-gray-600 text-sm text-right\">\n                    {(p.cartonPrice / 100).toFixed(2)}\n                  </td>\n                  <td className=\"px-6 py-2 text-gray-600 text-sm text-right\">\n                    {p.cartonSize}\n                  </td>\n                  <td className=\"pl-6 pr-2 py-2\">\n                    <Link\n                      className=\"text-sm text-blue-700 px-2 py-1 font-medium hover:text-blue-900\"\n                      to={`/product-prices/${p.id}`}\n                    >\n                      Show prices\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n","function ChevronLeftIcon(props) {\n  return (\n    <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" stroke=\"none\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n}\n\nfunction ChevronRightIcon(props) {\n  return (\n    <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" stroke=\"none\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  );\n}\n\nexport default function PaginationNav({ page, onPageChange, pageCount }) {\n  return (\n    <nav className=\"inline-flex\">\n      <button\n        className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150\"\n        onClick={() => {\n          if (page > 0) {\n            onPageChange(page - 1);\n          }\n        }}\n      >\n        <ChevronLeftIcon className=\"w-5 h-5\" />\n      </button>\n      {[...Array(pageCount).keys()].map((i) => (\n        <button\n          key={i}\n          className=\"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150\"\n          onClick={() => {\n            onPageChange(i);\n          }}\n        >\n          {i + 1}\n        </button>\n      ))}\n      <button\n        className=\"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150\"\n        onClick={() => {\n          if (page < pageCount - 1) {\n            onPageChange(page + 1);\n          }\n        }}\n      >\n        <ChevronRightIcon className=\"w-5 h-5\" />\n      </button>\n    </nav>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport qs from \"qs\";\nimport driw from \"../driw\";\nimport PaginationNav from \"./PaginationNav\";\nimport { useDispatch } from \"react-redux\";\nimport { setError } from \"../actions\";\n\nexport default function ProductPrices() {\n  const tableMaxRowCount = 10;\n  const pageCount = 50 / tableMaxRowCount;\n\n  const { id } = useParams();\n\n  const dispatch = useDispatch();\n\n  const [page, setPage] = useState(0);\n  const [productPrices, setProductPrices] = useState([]);\n\n  const getProducts = (newpage) => {\n    driw\n      .get(\n        `/products/${id}/prices/collection?${qs.stringify({\n          size: tableMaxRowCount,\n          page: newpage,\n        })}`\n      )\n      .then((res) => {\n        if (res.status !== 200) {\n          dispatch(setError(res.data.errorName));\n        }\n        return res.data;\n      })\n      .then((data) => {\n        setPage(newpage);\n        setProductPrices(data);\n      })\n      .catch((err) => {\n        if (!err.response) {\n          dispatch(setError(\"Network error\"));\n        } else {\n          dispatch(setError(err.response.data.errorName));\n        }\n      });\n  };\n\n  useEffect(() => {\n    getProducts(0);\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"mt-12\">\n      <div className=\"rounded-lg shadow overflow-hidden max-w-lg mx-auto\">\n        <div className=\"border-b\">\n          <table className=\"w-full bg-white\">\n            <thead className=\"text-left uppercase text-xs bg-gray-200 text-gray-600 tracking-wider\">\n              <tr>\n                <th className=\"px-8 py-2\">Quantity</th>\n                <th className=\"px-8 py-2 text-right\">Price</th>\n              </tr>\n            </thead>\n            <tbody>\n              {productPrices.map((price, i) => (\n                <tr key={i} className=\"border-b\">\n                  <td className=\"px-8 py-2 text-gray-800 font-medium\">\n                    {price.quantity}\n                    <span className=\"ml-2 text-gray-500 font-normal text-sm\">\n                      {price.product.name}\n                    </span>\n                  </td>\n                  <td className=\"px-8 py-2 text-gray-600 text-sm text-right\">\n                    {(price.amount / 100.0).toFixed(2)}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"float-right shadow-sm m-2\">\n          <PaginationNav\n            page={page}\n            onPageChange={(newpage) => {\n              getProducts(newpage);\n            }}\n            pageCount={pageCount}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import qs from \"qs\";\nimport { useEffect, useState } from \"react\";\nimport driw from \"../driw\";\nimport { useDispatch } from \"react-redux\";\nimport { setError } from \"../actions\";\n\nexport default function Calculator() {\n  const cartonsMax = 50;\n\n  const dispatch = useDispatch();\n\n  const [products, setProducts] = useState({});\n  const [selectedProduct, setSelectedProduct] = useState({});\n  const [cartons, setCartons] = useState(\"\");\n  const [units, setUnits] = useState(\"\");\n  const [price, setPrice] = useState(0);\n\n  useEffect(() => {\n    driw\n      .get(\"/products\")\n      .then((res) => {\n        if (res.status !== 200) {\n          dispatch(setError(res.data.errorName));\n        }\n        return res.data;\n      })\n      .then((data) => {\n        const dataObj = {};\n        data.forEach((d) => {\n          dataObj[d.id] = d;\n        });\n        setProducts(dataObj);\n      })\n      .catch((err) => {\n        if (!err.response) {\n          dispatch(setError(\"Network error\"));\n        } else {\n          dispatch(setError(err.response.data.errorName));\n        }\n      });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getPrice = () => {\n    const c = cartons ? cartons : 0;\n    const u = units ? units : 0;\n    driw\n      .get(\n        `/products/${selectedProduct.id}/prices?${qs.stringify({\n          quantity: c * selectedProduct.cartonSize + u,\n        })}`\n      )\n      .then((res) => {\n        if (res.status !== 200) {\n          dispatch(setError(res.data.errorName));\n        }\n        return res.data;\n      })\n      .then((data) => {\n        setPrice(data.amount);\n      })\n      .catch((err) => {\n        if (!err.response) {\n          dispatch(setError(\"Network error\"));\n        } else {\n          dispatch(setError(err.response.data.errorName));\n        }\n      });\n  };\n\n  const handleProductSelectChange = (e) => {\n    setCartons(\"\");\n    setUnits(\"\");\n    setPrice(0);\n    setSelectedProduct(products[e.target.value]);\n  };\n\n  const hasProductSelected = () => {\n    return selectedProduct && selectedProduct.id ? true : false;\n  };\n\n  const handleCartonsChange = (e) => {\n    const cartonSize = selectedProduct.cartonSize;\n    const currentCartonsMax =\n      cartonsMax - (units ? Math.ceil(units / cartonSize) : 0);\n    const c = Math.max(Math.min(e.target.value, currentCartonsMax), 0);\n    setCartons(c === 0 ? \"\" : c);\n  };\n\n  const handleUnitsChange = (e) => {\n    const cartonSize = selectedProduct.cartonSize;\n    const currentCartonsMax = cartonsMax - (cartons ? cartons : 0);\n    const u = Math.max(\n      Math.min(e.target.value, currentCartonsMax * cartonSize),\n      0\n    );\n    setUnits(u === 0 ? \"\" : u);\n  };\n\n  return (\n    <div className=\"flex justify-center mt-12\">\n      <form className=\"w-full max-w-xl bg-white px-8 py-8 rounded shadow\">\n        <div className=\"w-full px-3\">\n          <label\n            className=\"block uppercase font-semibold text-xs text-gray-700 tracking-wide\"\n            htmlFor=\"product\"\n          >\n            Product\n          </label>\n          <div className=\"relative mt-2\">\n            <select\n              className=\"block appearance-none w-full bg-gray-200 border text-gray-700 py-3 px-4 pr-8 rounded focus:outline-none focus:shadow-outline\"\n              id=\"product\"\n              onChange={handleProductSelectChange}\n            >\n              <option value=\"\">Select...</option>\n              {Object.values(products).map((p) => (\n                <option key={p.id} value={p.id}>\n                  {p.name}\n                </option>\n              ))}\n            </select>\n            <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n              <svg\n                className=\"fill-current h-4 w-4\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex mt-8\">\n          <div className=\"w-full px-3\">\n            <label\n              className={`block uppercase font-semibold text-xs text-gray-700 tracking-wide focus:outline-none focus:shadow-outline ${\n                !hasProductSelected() ? \"opacity-50\" : \"\"\n              }`}\n              htmlFor=\"cartons\"\n            >\n              Cartons\n            </label>\n            <input\n              className=\"block border rounded mt-2 px-4 py-3 w-full bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline\"\n              type=\"number\"\n              id=\"cartons\"\n              disabled={!hasProductSelected()}\n              value={cartons}\n              onChange={handleCartonsChange}\n              onBlur={() => {\n                if (cartons === \"\") {\n                  setCartons(0);\n                }\n              }}\n            />\n          </div>\n          <div className=\"w-full px-3\">\n            <label\n              className={`block uppercase font-semibold text-xs text-gray-700 tracking-wide focus:outline-none focus:shadow-outline ${\n                !hasProductSelected() ? \"opacity-50\" : \"\"\n              }`}\n              htmlFor=\"units\"\n            >\n              Units\n            </label>\n            <input\n              className=\"block border rounded mt-2 px-4 py-3 w-full bg-gray-200 text-gray-700\"\n              type=\"number\"\n              id=\"units\"\n              disabled={!hasProductSelected()}\n              value={units}\n              onChange={handleUnitsChange}\n              onBlur={() => {\n                if (units === \"\") {\n                  setUnits(0);\n                }\n              }}\n            />\n          </div>\n        </div>\n        <div className=\"flex justify-between mt-8 px-3\">\n          <div className=\"w-full\">\n            <button\n              className={`w-full py-3 px-4 bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold rounded \n                ${!hasProductSelected() ? \"opacity-50\" : \"hover:bg-blue-400\"}`}\n              type=\"button\"\n              disabled={!hasProductSelected()}\n              onClick={getPrice}\n            >\n              Calculate\n            </button>\n          </div>\n        </div>\n        <div className=\"mt-8 px-3\">\n          <div className=\"block border rounded px-4 py-3 w-full bg-gray-200 text-gray-600 font-bold text-xl text-center\">\n            {(price / 100.0).toFixed(2)}\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { Link, useLocation, Route } from \"react-router-dom\";\nimport { Products, ProductPrices } from \"../components\";\nimport Calculator from \"../components/Calculator\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setError } from \"../actions\";\n\nexport default function Home() {\n  const { pathname } = useLocation();\n\n  const dispatch = useDispatch();\n\n  const error = useSelector((state) => state.error);\n\n  if (error) {\n    setTimeout(() => {\n      dispatch(setError(\"\"));\n    }, 5000);\n  }\n\n  return (\n    <div className=\"h-screen bg-gray-100\">\n      <div\n        className={`bg-red-500 text-xs text-center text-red-100 ${\n          error ? \"\" : \"hidden\"\n        }`}\n      >\n        {error}\n      </div>\n      <header className=\"flex justify-center p-6 bg-white shadow\">\n        <nav>\n          <Link\n            className={`p-3 m-2 rounded-lg text-gray-600 font-medium hover:text-gray-800 ${\n              pathname === \"/\" ? \"bg-gray-200\" : \"\"\n            }`}\n            to=\"/\"\n            replace\n          >\n            products\n          </Link>\n          <Link\n            className={`p-3 m-2 rounded-lg text-gray-600 font-medium hover:text-gray-800 ${\n              pathname === \"/calculator\" ? \"bg-gray-200\" : \"\"\n            }`}\n            to=\"/calculator\"\n            replace\n          >\n            calculator\n          </Link>\n        </nav>\n      </header>\n      <main>\n        <Route exact path=\"/\">\n          <Products />\n        </Route>\n        <Route exact path=\"/product-prices/:id\">\n          <ProductPrices />\n        </Route>\n        <Route exact path=\"/calculator\">\n          <Calculator />\n        </Route>\n      </main>\n    </div>\n  );\n}\n","import { HashRouter } from \"react-router-dom\";\nimport { Home } from \"./pages\";\nimport \"./tailwind.css\";\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Home />\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import error from \"./error\";\nimport { combineReducers } from \"redux\";\n\nconst reducers = combineReducers({\n  error,\n});\n\nexport default reducers;\n","export default function error(state = \"\", action) {\n  switch (action.type) {\n    case \"SET_ERROR\":\n      return action.error;\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createStore } from \"redux\";\nimport reducers from \"./reducers\";\nimport { Provider } from \"react-redux\";\n\nconst store = createStore(reducers);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}