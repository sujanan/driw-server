(this["webpackJsonpdriw-ui"]=this["webpackJsonpdriw-ui"]||[]).push([[0],{36:function(e,t){e.exports={baseURL:"http://localhost:8080/api"}},44:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),r=c.n(n),s=c(14),o=c.n(s),i=(c(44),c(8)),l=c(2),d=c(7),u=c(35),b=c.n(u),x=c(36),j=b.a.create({baseURL:x.baseURL}),h=c(6),m=function(e){return{type:"SET_ERROR",error:e}};function p(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(h.b)();return Object(n.useEffect)((function(){j.get("/products").then((function(e){return 200!==e.status&&s(m(e.data.errorName)),e.data})).then((function(e){r(e)})).catch((function(e){e.response?s(m(e.response.data.errorName)):s(m("Network error"))}))}),[]),Object(a.jsx)("div",{className:"mt-12",children:Object(a.jsx)("div",{className:"rounded-lg shadow overflow-hidden max-w-2xl mx-auto",children:Object(a.jsx)("div",{className:"border-b",children:Object(a.jsxs)("table",{className:"w-full bg-white",children:[Object(a.jsx)("thead",{className:"text-left uppercase text-xs bg-gray-200 text-gray-600 tracking-wider",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"px-6 py-2",children:"Name"}),Object(a.jsx)("th",{className:"px-6 py-2 text-right",children:"Carton Price"}),Object(a.jsx)("th",{className:"px-6 py-2 text-right",children:"Carton Size"}),Object(a.jsx)("th",{className:"px-6 py-2"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:c.map((function(e){return Object(a.jsxs)("tr",{className:"border-b",children:[Object(a.jsx)("td",{className:"px-6 py-2 text-gray-800 text-sm font-medium",children:e.name}),Object(a.jsx)("td",{className:"px-6 py-2 text-gray-600 text-sm text-right",children:(e.cartonPrice/100).toFixed(2)}),Object(a.jsx)("td",{className:"px-6 py-2 text-gray-600 text-sm text-right",children:e.cartonSize}),Object(a.jsx)("td",{className:"pl-6 pr-2 py-2",children:Object(a.jsx)(i.b,{className:"text-sm text-blue-700 px-2 py-1 font-medium hover:text-blue-900",to:"/product-prices/".concat(e.id),children:"Show prices"})})]},e.id)}))})]})})})})}var f=c(17),g=c.n(f),O=c(38),y=c(13);function v(e){return Object(a.jsx)("svg",Object(y.a)(Object(y.a)({fill:"currentColor",viewBox:"0 0 24 24",stroke:"none"},e),{},{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}))}function N(e){return Object(a.jsx)("svg",Object(y.a)(Object(y.a)({fill:"currentColor",viewBox:"0 0 24 24",stroke:"none"},e),{},{children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}))}function w(e){var t=e.page,c=e.onPageChange,n=e.pageCount;return Object(a.jsxs)("nav",{className:"inline-flex",children:[Object(a.jsx)("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150",onClick:function(){t>0&&c(t-1)},children:Object(a.jsx)(v,{className:"w-5 h-5"})}),Object(O.a)(Array(n).keys()).map((function(e){return Object(a.jsx)("button",{className:"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-700 hover:text-gray-500 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-700 transition ease-in-out duration-150",onClick:function(){c(e)},children:e+1},e)})),Object(a.jsx)("button",{className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150",onClick:function(){t<n-1&&c(t+1)},children:Object(a.jsx)(N,{className:"w-5 h-5"})})]})}function k(){var e=Object(l.f)().id,t=Object(h.b)(),c=Object(n.useState)(0),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)([]),u=Object(d.a)(i,2),b=u[0],x=u[1],p=function(c){j.get("/products/".concat(e,"/prices/collection?").concat(g.a.stringify({size:10,page:c}))).then((function(e){return 200!==e.status&&t(m(e.data.errorName)),e.data})).then((function(e){o(c),x(e)})).catch((function(e){e.response?t(m(e.response.data.errorName)):t(m("Network error"))}))};return Object(n.useEffect)((function(){p(0)}),[e]),Object(a.jsx)("div",{className:"mt-12",children:Object(a.jsxs)("div",{className:"rounded-lg shadow overflow-hidden max-w-lg mx-auto",children:[Object(a.jsx)("div",{className:"border-b",children:Object(a.jsxs)("table",{className:"w-full bg-white",children:[Object(a.jsx)("thead",{className:"text-left uppercase text-xs bg-gray-200 text-gray-600 tracking-wider",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"px-8 py-2",children:"Quantity"}),Object(a.jsx)("th",{className:"px-8 py-2 text-right",children:"Price"})]})}),Object(a.jsx)("tbody",{children:b.map((function(e,t){return Object(a.jsxs)("tr",{className:"border-b",children:[Object(a.jsxs)("td",{className:"px-8 py-2 text-gray-800 font-medium",children:[e.quantity,Object(a.jsx)("span",{className:"ml-2 text-gray-500 font-normal text-sm",children:e.product.name})]}),Object(a.jsx)("td",{className:"px-8 py-2 text-gray-600 text-sm text-right",children:(e.amount/100).toFixed(2)})]},t)}))})]})}),Object(a.jsx)("div",{className:"float-right shadow-sm m-2",children:Object(a.jsx)(w,{page:s,onPageChange:function(e){p(e)},pageCount:5})})]})})}function C(){var e=Object(h.b)(),t=Object(n.useState)({}),c=Object(d.a)(t,2),r=c[0],s=c[1],o=Object(n.useState)({}),i=Object(d.a)(o,2),l=i[0],u=i[1],b=Object(n.useState)(""),x=Object(d.a)(b,2),p=x[0],f=x[1],O=Object(n.useState)(""),y=Object(d.a)(O,2),v=y[0],N=y[1],w=Object(n.useState)(0),k=Object(d.a)(w,2),C=k[0],S=k[1];Object(n.useEffect)((function(){j.get("/products").then((function(t){return 200!==t.status&&e(m(t.data.errorName)),t.data})).then((function(e){var t={};e.forEach((function(e){t[e.id]=e})),s(t)})).catch((function(t){t.response?e(m(t.response.data.errorName)):e(m("Network error"))}))}),[]);var R=function(){return!(!l||!l.id)};return Object(a.jsx)("div",{className:"flex justify-center mt-12",children:Object(a.jsxs)("form",{className:"w-full max-w-xl bg-white px-8 py-8 rounded shadow",children:[Object(a.jsxs)("div",{className:"w-full px-3",children:[Object(a.jsx)("label",{className:"block uppercase font-semibold text-xs text-gray-700 tracking-wide",htmlFor:"product",children:"Product"}),Object(a.jsxs)("div",{className:"relative mt-2",children:[Object(a.jsxs)("select",{className:"block appearance-none w-full bg-gray-200 border text-gray-700 py-3 px-4 pr-8 rounded focus:outline-none focus:shadow-outline",id:"product",onChange:function(e){f(""),N(""),S(0),u(r[e.target.value])},children:[Object(a.jsx)("option",{value:"",children:"Select..."}),Object.values(r).map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(a.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Object(a.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(a.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),Object(a.jsxs)("div",{className:"flex mt-8",children:[Object(a.jsxs)("div",{className:"w-full px-3",children:[Object(a.jsx)("label",{className:"block uppercase font-semibold text-xs text-gray-700 tracking-wide focus:outline-none focus:shadow-outline ".concat(R()?"":"opacity-50"),htmlFor:"cartons",children:"Cartons"}),Object(a.jsx)("input",{className:"block border rounded mt-2 px-4 py-3 w-full bg-gray-200 text-gray-700 focus:outline-none focus:shadow-outline",type:"number",id:"cartons",disabled:!R(),value:p,onChange:function(e){var t=l.cartonSize,c=50-(v?Math.ceil(v/t):0),a=Math.max(Math.min(e.target.value,c),0);f(0===a?"":a)},onBlur:function(){""===p&&f(0)}})]}),Object(a.jsxs)("div",{className:"w-full px-3",children:[Object(a.jsx)("label",{className:"block uppercase font-semibold text-xs text-gray-700 tracking-wide focus:outline-none focus:shadow-outline ".concat(R()?"":"opacity-50"),htmlFor:"units",children:"Units"}),Object(a.jsx)("input",{className:"block border rounded mt-2 px-4 py-3 w-full bg-gray-200 text-gray-700",type:"number",id:"units",disabled:!R(),value:v,onChange:function(e){var t=l.cartonSize,c=50-(p||0),a=Math.max(Math.min(e.target.value,c*t),0);N(0===a?"":a)},onBlur:function(){""===v&&N(0)}})]})]}),Object(a.jsx)("div",{className:"flex justify-between mt-8 px-3",children:Object(a.jsx)("div",{className:"w-full",children:Object(a.jsx)("button",{className:"w-full py-3 px-4 bg-blue-500 focus:shadow-outline focus:outline-none text-white font-bold rounded \n                ".concat(R()?"hover:bg-blue-400":"opacity-50"),type:"button",disabled:!R(),onClick:function(){var t=p||0,c=v||0;j.get("/products/".concat(l.id,"/prices?").concat(g.a.stringify({quantity:t*l.cartonSize+c}))).then((function(t){return 200!==t.status&&e(m(t.data.errorName)),t.data})).then((function(e){S(e.amount)})).catch((function(t){t.response?e(m(t.response.data.errorName)):e(m("Network error"))}))},children:"Calculate"})})}),Object(a.jsx)("div",{className:"mt-8 px-3",children:Object(a.jsx)("div",{className:"block border rounded px-4 py-3 w-full bg-gray-200 text-gray-600 font-bold text-xl text-center",children:(C/100).toFixed(2)})})]})})}function S(){var e=Object(l.e)().pathname,t=Object(h.b)(),c=Object(h.c)((function(e){return e.error}));return c&&setTimeout((function(){t(m(""))}),5e3),Object(a.jsxs)("div",{className:"h-screen bg-gray-100",children:[Object(a.jsx)("div",{className:"bg-red-500 text-xs text-center text-red-100 ".concat(c?"":"hidden"),children:c}),Object(a.jsx)("header",{className:"flex justify-center p-6 bg-white shadow",children:Object(a.jsxs)("nav",{children:[Object(a.jsx)(i.b,{className:"p-3 m-2 rounded-lg text-gray-600 font-medium hover:text-gray-800 ".concat("/"===e?"bg-gray-200":""),to:"/",replace:!0,children:"products"}),Object(a.jsx)(i.b,{className:"p-3 m-2 rounded-lg text-gray-600 font-medium hover:text-gray-800 ".concat("/calculator"===e?"bg-gray-200":""),to:"/calculator",replace:!0,children:"calculator"})]})}),Object(a.jsxs)("main",{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(p,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/product-prices/:id",children:Object(a.jsx)(k,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/calculator",children:Object(a.jsx)(C,{})})]})]})}c(69);var R=function(){return Object(a.jsx)(i.a,{children:Object(a.jsx)(S,{})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},F=c(10);var E=Object(F.b)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;default:return e}}}),L=Object(F.c)(E);o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(h.a,{store:L,children:Object(a.jsx)(R,{})})}),document.getElementById("root")),z()}},[[70,1,2]]]);
//# sourceMappingURL=main.45417617.chunk.js.map